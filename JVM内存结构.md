# JVM内存结构

#### Java内存结构:

![](http://images2015.cnblogs.com/blog/331425/201606/331425-20160623115838891-809895495.png)

JVM内存结构主要有三大块: 堆内存, 方法区和栈.

#### 堆内存:

堆内存是JVM中最大的一块, 由年轻代和老年代组成,
年轻代内存又分成三部分: Eden空间, From Survivor空间, To Survivor空间, 默认分配比例 8:1:1

方法区存储类信息, 常量, 静态变量等数据, 是线程共享的区域,
栈分为java虚拟机和本地方法栈, 主要用于方法的执行

参数对应控制各区域的内存大小:
![](http://images2015.cnblogs.com/blog/331425/201606/331425-20160623115841031-564040608.png)

#### 控制参数:

    -Xms 设置堆得最小空间
    -Xmx 设置堆得最大空间
    -XX:NewSize 设置新生代最小空间大小
    -XX:MaxNexSize 设置新生代最大空间大小
    -XX:PermSize 设置永久代最小空间大小
    -XX:MaxPermSize 设置永久代最大空间大小
    -Xss 设置每个线程的堆栈大小

没有直接设置老年代的参数, 通过设置堆空间大小和新生代空间大小来间接控制

    老年代空间大小 = 堆空间大小 - 年轻代空间大小

JVM 和 系统调用之间的关系

![](http://images2015.cnblogs.com/blog/331425/201606/331425-20160623115845438-670228585.png)
